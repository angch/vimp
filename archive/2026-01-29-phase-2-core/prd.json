{
    "project": "Vimp",
    "branchName": "ralph/phase-2-core",
    "description": "Integrate the core image processing engine by linking Zig with libgegl and libbabl. This transforms the shell into a basic graphics editor.",
    "userStories": [
        {
            "id": "US-001",
            "title": "Build System Dependencies (GEGL/Babl)",
            "description": "As a developer, I need the build system to link against system GEGL and Babl libraries so I can call their functions from Zig.",
            "acceptanceCriteria": [
                "zig build links libgegl-0.4 (or similar) and libbabl-0.1",
                "@cImport in Zig successfully finds gegl.h and babl.h",
                "Application compiles and runs without linker errors",
                "Typecheck passes"
            ],
            "priority": 1,
            "passes": true,
            "notes": "Vendored via tools/setup_libs.sh"
        },
        {
            "id": "US-002",
            "title": "GEGL Initialization & Graph Setup",
            "description": "As a developer, I want the application to initialize the GEGL engine on startup so it is ready for image processing.",
            "acceptanceCriteria": [
                "Call gegl_init() and babl_init() at application launch",
                "Construct a basic GEGL graph (e.g., a background color node connected to a write buffer)",
                "Clean up resources (if applicable) on exit",
                "No crashes on startup",
                "Typecheck passes"
            ],
            "priority": 2,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-003",
            "title": "Render GEGL Buffer to Canvas",
            "description": "As a user, I want to see the actual image data from GEGL displayed in the window, rather than a placeholder.",
            "acceptanceCriteria": [
                "Extract pixel data from the GEGL graph/node",
                "Convert/Blit the data to a format compatible with GtkDrawingArea (e.g., GdkTexture or Cairo surface)",
                "The canvas displays the visual output of the GEGL graph",
                "Visual verification",
                "Typecheck passes"
            ],
            "priority": 3,
            "passes": true,
            "notes": ""
        },
        {
            "id": "US-004",
            "title": "Interactive Drawing (GEGL Update)",
            "description": "As a user, when I draw on the canvas, I want the underlying image data to change using GEGL operations.",
            "acceptanceCriteria": [
                "Mouse/Pointer events on the canvas map to coordinates in the GEGL graph",
                "Clicking/Dragging applies a GEGL operation (e.g., painting a stroke on a buffer node) or modifies a node property",
                "The view updates to reflect the change (repaint triggered)",
                "Visual verification (strokes appear where drawn)",
                "Typecheck passes"
            ],
            "priority": 4,
            "passes": true,
            "notes": ""
        }
    ]
}